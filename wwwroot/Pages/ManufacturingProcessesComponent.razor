@code {
    [Parameter]
    public EventCallback OnClose { get; set; }

    private string currentStep = string.Empty;

    private void ShowStep(string step)
    {
        currentStep = step;
    }

    private void Close()
    {
        currentStep = string.Empty;
        OnClose.InvokeAsync(null);
    }
}

<div class="manufacturing-processes">
    <h3>Manufacturing Processes</h3>

    <div class="steps-buttons">
        <button @onclick='() => ShowStep("Step1")'>Step1 - Preparation</button>
        <button @onclick='() => ShowStep("Step2")'>Step2 - Press Assembly</button>
    </div>

    @if (!string.IsNullOrEmpty(currentStep))
    {
        <div class="step-content">
            <button @onclick="Close">⬅ Back</button>

            @if (currentStep == "Step1")
            {
                <video width="600" controls>
                    <source src="/vido/Step1.mp4" type="video/mp4" />
                    Your browser does not support the video tag.
                </video>
                <div class="images">
                    <img src="/image/Step1-1.png" width="200" />
                    <img src="/image/Step1-2.png" width="200" />
                    <img src="/image/Step1-3.png" width="200" />
                </div>
            }
            else if (currentStep == "Step2")
            {
                <video width="600" controls>
                    <source src="/vido/Step2.mp4" type="video/mp4" />
                    Your browser does not support the video tag.
                </video>
                <div class="images">
                    <img src="/image/Step2-1.png" width="200" />
                    <img src="/image/Step2-2.png" width="200" />
                </div>
            }
        </div>
    }
</div>
